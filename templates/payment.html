{% extends 'base.html' %}
<!-- {% load static %} -->
<!-- {% load crispy_forms_tags %} -->

{% block content %}


<style>
.panel-title {display: inline;font-weight: bold;}
.checkbox.pull-right { margin: 0; }
.pl-ziro { padding-left: 0px; }

</style>


<div class="container" style="padding-top: 80px;">
<br><br><br>
<!-- <h3 style="margin-bottom: 50px;">Pay by visa card</h3> -->
  <div class="row">

  <div style="padding-right: 120px;">
      <div>
          <div class="" style="height:500px; width:500px;">
              <div class="panel panel-default">
                  <div class="panel-heading">
                      <h3 class="panel-title">
                          Payment Details
                      </h3>
                      <div class="checkbox pull-right">
                          <label>
                              <input type="checkbox" />
                              Remember
                          </label>
                      </div>
                  </div>
                  <div class="panel-body">
                      <form action="" method="POST">
                        {% csrf_token %}
                      <div class="form-group"> 
                          <!-- <label for="cardNumber">CARD NUMBER</label> -->
                          <div class="input-group">
                              <input type="text" class="form-control"  placeholder="Valid Card Number"
                                  required/>
                                  {{form.card_number}}
                              <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
                          </div>
                      </div>
                      <div class="row">
                          <!-- <div class="col-xs-7 col-md-7">
                              <div class="form-group">
                                  <label for="expityMonth">
                                      EXPIRY DATE</label>
                                  <div class="col-xs-6 col-lg-6 pl-ziro">
                                      <input type="text" class="form-control" id="expityMonth" placeholder="MM" required />
                                    </div>
                                  <div class="col-xs-6 col-lg-6 pl-ziro">
                                      <input type="text" class="form-control" id="expityYear" placeholder="YY" required /></div>
                              </div>
                          </div> -->
                          <!-- <div class="col-xs-5 col-md-5 pull-right">
                              <div class="form-group">
                                  <label for="cvCode">
                                      CV CODE</label>
                                      <input type="password" class="form-control" id="cvCode" placeholder="CV" required />
                              </div>
                          </div> -->
                      </div>
                      </form>
                  </div>
              </div>
            
              <a href="/payment-success" class="btn btn-success btn-lg btn-block" role="button">Pay</a>
              
              <!-- <button class="btn btn-primary btn-lg btn-block" type="submit">Submit Payment</button> -->
          </div>
      </div>
  </div>
      
    {% include "order_snippet.html" %}

  </div>

  <footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1">&copy; 2017-2019 Company Name</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="#">Privacy</a></li>
      <li class="list-inline-item"><a href="#">Terms</a></li>
      <li class="list-inline-item"><a href="#">Support</a></li>
    </ul>
  </footer>
</div>
{% endblock content %}


<!-- {% block extra_scripts %} -->

<!-- <script nonce="">  
  var stripe = Stripe('pk_test_lX3r6OMjOU2yzFsNSHq6belT00EY82kZmH');
  // Create an instance of Elements.
  var elements = stripe.elements();
  // Custom styling can be passed to options when creating an Element.
  // (Note that this demo uses a wider set of styles than the guide below.)
  var style = {
    base: {
      color: '#32325d',
      fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
      fontSmoothing: 'antialiased',
      fontSize: '16px',
      '::placeholder': {
        color: '#aab7c4'
      }
    },
    invalid: {
      color: '#fa755a',
      iconColor: '#fa755a'
    }
  };
  // Create an instance of the card Element.
  var card = elements.create('card', { style: style });
  // Add an instance of the card Element into the `card-element` <div>.
  card.mount('#card-element');
  // Handle real-time validation errors from the card Element.
  card.addEventListener('change', function (event) {
    var displayError = document.getElementById('card-errors');
    if (event.error) {
      displayError.textContent = event.error.message;
    } else {
      displayError.textContent = '';
    }
  });
  // Handle form submission.
  var form = document.getElementById('stripe-form');
  form.addEventListener('submit', function (event) {
    event.preventDefault();
    stripe.createToken(card).then(function (result) {
      if (result.error) {
        // Inform the user if there was an error.
        var errorElement = document.getElementById('card-errors');
        errorElement.textContent = result.error.message;
      } else {
        // Send the token to your server.
        stripeTokenHandler(result.token);
      }
    });
  });
  // Submit the form with the token ID.
  function stripeTokenHandler(token) {
    // Insert the token ID into the form so it gets submitted to the server
    var form = document.getElementById('stripe-form');
    var hiddenInput = document.createElement('input');
    hiddenInput.setAttribute('type', 'hidden');
    hiddenInput.setAttribute('name', 'stripeToken');
    hiddenInput.setAttribute('value', token.id);
    form.appendChild(hiddenInput);
    // Submit the form
    form.submit();
  }
  var currentCardForm = $('.current-card-form');
  var newCardForm = $('.new-card-form');
  var use_default_card = document.querySelector("input[name=use_default_card]");
  use_default_card.addEventListener('change', function () {
    if (this.checked) {
      newCardForm.hide();
      currentCardForm.show()
    } else {
      newCardForm.show();
      currentCardForm.hide()
    }
  })
</script> -->

<!-- {% endblock extra_scripts %} -->